############################ input configuration sections
[T1]
path_to_search = /home/tom/phd/Dataset/All_final_one_slice_without_ADNI_test_set_retrain_SOFT_T1T2
filename_contains = T1
filename_not_contains =
;filename_not_contains = SABREv2220756,SABREv2205634,SABREv2261915,SABREv2227898,SABREv2134471
spatial_window_size = (100, 100, 1)
axcodes=(L,P,S)
interp_order = 3

[T2]
path_to_search = /home/tom/phd/Dataset/All_final_one_slice_without_ADNI_test_set_retrain_SOFT_T1T2
filename_contains = T2
filename_not_contains =
;filename_not_contains = SABREv2220756,SABREv2205634,SABREv2261915,SABREv2227898,SABREv2134471
spatial_window_size = (100, 100, 1)
axcodes=(L,P,S)
interp_order = 3

[Flair]
path_to_search = /home/tom/phd/Dataset/All_final_one_slice_without_ADNI_test_set_retrain_SOFT_T1T2
filename_contains = FLAIR
filename_not_contains =
;filename_not_contains = SABREv2220756,SABREv2205634,SABREv2261915,SABREv2227898,SABREv2134471
spatial_window_size = (100, 100, 1)
axcodes=(L,P,S)
interp_order = 3

[label]
path_to_search = /home/tom/phd/Dataset/All_final_one_slice_without_ADNI_test_set_retrain
filename_contains = BinLesion
filename_not_contains =
;filename_not_contains = SABREv2220756,SABREv2205634,SABREv2261915,SABREv2227898,SABREv2134471
spatial_window_size = (100, 100, 1)
axcodes=(L,P,S)
interp_order = 0

############################## system configuration sections
[SYSTEM]
cuda_devices = ""
num_threads = 10
num_gpus = 1
model_dir = /home/tom/phd/midl_results/final_hemis_results_without_ADNI
queue_length = 256
;dataset_split_file = /home/tom/phd/Dataset/hard_split.csv


[NETWORK]
name = niftynet.contrib.hemis.hemis.HeMIS
activation_function = relu
decay = 1e-5
reg_type = L2
batch_size = 1
volume_padding_size=(0,0,0)
histogram_ref_file = /home/tom/phd/Dataset/lesion_mapping.txt
normalise_foreground_only = True
foreground_type = threshold_plus
multimod_foreground_type = and

[TRAINING]
optimiser = adam
sample_per_volume = 1
lr = 0.0
loss_type = Dice
starting_iter = 26001
save_every_n = 0
max_iter = 500000
;max_checkpoints = 20
;validation_every_n = 1
;validation_max_iter = 20000
;exclude_fraction_for_validation = 0.1
tensorboard_every_n = 0

############################ custom configuration sections
[SEGMENTATION]
image = Flair,T1,T2
label = label
output_prob = True
num_classes = 2
label_normalisation = True

[EVALUATION]

[INFERENCE]
border = (0, 0, 0)
save_seg_dir = ./output/HeMIS_SOFT
output_interp_order = 3
output_prob = True
spatial_window_size = (100, 100, 1)
